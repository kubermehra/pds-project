<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WelcomeHome Features</title>
    <script>
        function validateDonationForm() {
            const staffID = document.getElementById('staffID').value;
            const donorID = document.getElementById('donorID').value;
            const mainCategory = document.getElementById('mainCategory').value;
            const subCategory = document.getElementById('subCategory').value;

            if (!staffID || !donorID || !mainCategory || !subCategory) {
                alert('Please fill in all required fields for the donation!');
                return false;
            }

            return true;
        }
    </script>
</head>
<body>
    <h1>Required Features</h1>

    <!-- Section: Find Single Item -->

    <!-- SELECT roomNum, shelfNum, pDescription 
        FROM Piece 
        WHERE ItemID = ? 
        -->  

    <section id="find-single-item">
        <h2>Find Single Item</h2>
        <form method="POST" action="/find-item">
            <label for="itemID">Enter Item ID:</label>
            <input type="text" id="itemID" name="itemID" required>
            <button type="submit">Find Locations</button>
        </form>
        <div id="output-single-item" style="margin-top: 20px;">
            <h3>Locations:</h3>
            <p>No data yet.</p>
        </div>
    </section>

    <hr>

    <!-- Section: Find Order Items -->
     <!--  SELECT Item.ItemID, iDescription, roomNum, shelfNum, pDescription 
        FROM Ordered 
        NATURAL JOIN ItemIn
        NATURAL JOIN Piece
        NATURAL JOIN Item
        WHERE Ordered.orderID = ?;
        -->
    
        <section id="find-order-items">
        <h2>Find Order Items</h2>
        <form method="POST" action="/find-order">
            <label for="orderID">Enter Order ID:</label>
            <input type="text" id="orderID" name="orderID" required>
            <button type="submit">Find Items</button>
        </form>
        <div id="output-order-items" style="margin-top: 20px;">
            <h3>Order Details:</h3>
            <p>No data yet.</p>
        </div>
    </section>

    <hr>

    <!-- Section: Accept Donation -->

    <!-- 1. Validate Staff: SELECT userName 
        FROM Act 
        WHERE userName = ? AND roleID = 'staff';
        -->

    <!-- 2. Validate Donor: SELECT userName 
        FROM Act 
        WHERE userName = ? AND roleID = 'donor';
        -->

    <!-- 3. Insert New Item: INSERT INTO Item (
            iDescription, 
            photo, 
            color, 
            isNew, 
            hasPieces, 
            material, 
            mainCategory, 
            subCategory
        ) 
        VALUES (?, ?, ?, ?, ?, ?, ?, ?);
        -->

    <!-- 4. Retrieve Item for display: SELECT LAST_INSERT_ID();
        -->

    <!-- 5. Insert Piece Data: INSERT INTO Piece (
            ItemID, 
            pieceNum, 
            pDescription, 
            length, 
            width, 
            height, 
            roomNum, 
            shelfNum, 
            pNotes
        ) 
        VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?);
        -->

    <!-- 6. Record Donation: INSERT INTO DonatedBy (
            ItemID, 
            userName, 
            donateDate
        ) 
        VALUES (?, ?, NOW());
        -->

    <section id="accept-donation">
        <h2>Accept Donation</h2>
        <form method="POST" action="/accept-donation" enctype="multipart/form-data" onsubmit="return validateDonationForm();">
            <!-- Staff Verification -->
            <label for="staffID">Staff ID:</label>
            <input type="text" id="staffID" name="staffID" required>
            <br><br>

            <!-- Donor Information -->
            <label for="donorID">Donor ID:</label>
            <input type="text" id="donorID" name="donorID" required>
            <br><br>

            <!-- Item Details -->
            <label for="itemID">Item ID (Optional):</label>
            <input type="text" id="itemID" name="itemID">
            <small>Leave blank to auto-generate</small>
            <br><br>

            <label for="iDescription">Item Description:</label>
            <textarea id="iDescription" name="iDescription" required></textarea>
            <br><br>

            <label for="photo">Upload Photo:</label>
            <input type="file" id="photo" name="photo" accept="image/*">
            <br><br>

            <label for="color">Color:</label>
            <input type="text" id="color" name="color">
            <br><br>

            <label for="isNew">Is New:</label>
            <select id="isNew" name="isNew">
                <option value="true">Yes</option>
                <option value="false">No</option>
            </select>
            <br><br>

            <label for="hasPieces">Has Pieces:</label>
            <select id="hasPieces" name="hasPieces">
                <option value="true">Yes</option>
                <option value="false">No</option>
            </select>
            <br><br>

            <label for="material">Material:</label>
            <input type="text" id="material" name="material" required>
            <br><br>

            <!-- Item Categorization -->
            <label for="mainCategory">Main Category:</label>
            <input type="text" id="mainCategory" name="mainCategory" required>
            <br><br>

            <label for="subCategory">Sub Category:</label>
            <input type="text" id="subCategory" name="subCategory" required>
            <br><br>

            <!-- Storage Location -->
            <label for="location">Storage Location (Room, Shelf):</label>
            <input type="text" id="location" name="location" placeholder="Room,Shelf" required>
            <br><br>

            <!-- Submit Button -->
            <button type="submit">Submit Donation</button>
        </form>

        <div id="output-donation" style="margin-top: 20px;">
            <h3>Submission Result:</h3>
            <p>No data yet.</p>
        </div>
    </section>

    <hr>

</body>
</html>
